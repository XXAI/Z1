{"ast":null,"code":"import { APPS } from './apps';\nimport * as i0 from \"@angular/core\";\nexport let AppsListService = /*#__PURE__*/(() => {\n  class AppsListService {\n    constructor() {}\n\n    defaultChildRoute(appRoute) {\n      console.log('AppHelper ::: ' + appRoute);\n      let apps = JSON.parse(localStorage.getItem('userApps'));\n\n      for (let i = 0; i < apps.length; i++) {\n        let app = apps[i];\n\n        if (app.route == appRoute && app.hideHome) {\n          if (app.children && app.children.length > 0) {\n            return app.children[0].route;\n          }\n        }\n      }\n\n      return '...';\n    }\n\n    getApps() {\n      let userApps = []; //console.log(APPS);\n\n      if (!localStorage.getItem('token')) {\n        return [];\n      }\n\n      let permissions = {};\n\n      if (localStorage.getItem('permissions')) {\n        permissions = JSON.parse(localStorage.getItem('permissions'));\n      }\n\n      userApps = JSON.parse(JSON.stringify(APPS));\n\n      for (let i = 0; i < userApps.length; i++) {\n        let app = userApps[i];\n\n        if (app.children && app.children.length > 0) {\n          for (let j = 0; j < app.children.length; j++) {\n            let child = app.children[j];\n\n            if (child.permission && !permissions[child.permission]) {\n              userApps[i].children.splice(j, 1);\n              j -= 1;\n            }\n          }\n        }\n\n        if (app.permission && !permissions[app.permission] || app.isHub && app.children && app.children.length == 0) {\n          userApps.splice(i, 1);\n          i -= 1;\n        }\n      }\n\n      localStorage.setItem('userApps', JSON.stringify(userApps)); //console.log(userApps);\n\n      return userApps;\n    }\n\n  }\n\n  AppsListService.ɵfac = function AppsListService_Factory(t) {\n    return new (t || AppsListService)();\n  };\n\n  AppsListService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: AppsListService,\n    factory: AppsListService.ɵfac,\n    providedIn: 'root'\n  });\n  return AppsListService;\n})();","map":null,"metadata":{},"sourceType":"module"}