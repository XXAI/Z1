<section class="profile">
    <!--div fxFill-->
    <!--<mat-toolbar class="employee-status-bar" [class.mat-elevation-z2]="true" *ngIf="!esNuevoEmpleado">
        <mat-toolbar-row>
            <mat-icon fxHide.xs="true" aria-hidden="false" aria-label="Estatus Empleado">{{statusIcon}}</mat-icon>
            <span fxHide.xs="true">&nbsp; {{statusLabel}}&nbsp;</span>
            <span fxHide.xs="true" *ngIf="datos_empleado && datos_empleado.permuta_adscripcion_activa" matTooltip="{{datos_empleado.permuta_adscripcion_activa.clues_destino.nombre_unidad}}: {{datos_empleado.permuta_adscripcion_activa.cr_destino.descripcion}}">
                <small>[{{datos_empleado.permuta_adscripcion_activa.clues_destino.clues}}: {{datos_empleado.permuta_adscripcion_activa.cr_destino.cr}}]</small>
            </span>
            <span class="spacer"></span>
            <section *ngIf="miniPagination">
                <button mat-raised-button [disabled]="miniPagination.previous == 0" (click)="loadPrevious()"><mat-icon>navigate_before</mat-icon> <span fxHide.xs="true">Anterior</span></button>
                &nbsp;
                <span><small>{{miniPagination.current}}/{{miniPagination.total}}</small></span>
                &nbsp;
                <button mat-raised-button [disabled]="miniPagination.next == 0" (click)="loadNext()"><span fxHide.xs="true">Siguiente</span> <mat-icon>navigate_next</mat-icon></button>
            </section>
            <span fxShow.xs="true" fxHide="true"  class="spacer"></span>
        </mat-toolbar-row>
    </mat-toolbar>-->

    
    <section fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-evenly start" style="padding-top:5px;">
        <section fxFlex="90" fxLayout="column" [formGroup]="cluesForm">
            <div class="loading-shade" *ngIf="isLoading">
                <mat-spinner *ngIf="isLoading"></mat-spinner>
            </div>
            <mat-card fxFlex>
                <mat-card-content>
                    <div class="edit-container">
                        <div class="loading-shade" *ngIf="isLoading && clues">No se encontraron los datos del empleado</div>
                        <section>
                            <div fxLayout="row" fxLayout.xs="column">
                                <mat-form-field fxFlex="30" fxFlex.xs="100">
                                    <input matInput formControlName="clues" placeholder="Clues" type="text">
                                    <mat-error *ngIf="cluesForm.get('clues').invalid && (cluesForm.get('clues').dirty || cluesForm.get('clues').touched)">
                                        <span *ngIf="cluesForm.get('clues').errors.required">El Nombre es obligatorio</span>
                                    </mat-error>
                                </mat-form-field>
                                <mat-form-field fxFlex="70" fxFlex.xs="100">
                                    <input matInput formControlName="nombre_unidad" placeholder="Nombre Unidad" type="text">
                                    <mat-error *ngIf="cluesForm.get('nombre_unidad').invalid && (cluesForm.get('nombre_unidad').dirty || cluesForm.get('nombre_unidad').touched)">
                                        <span *ngIf="cluesForm.get('nombre_unidad').errors.required">El Nombre es obligatorio</span>
                                    </mat-error>
                                </mat-form-field>
                             </div>
                             <div fxLayout="row" fxLayout.xs="column">
                                <mat-form-field fxFlex="30" fxFlex.xs="100">
                                    <input matInput formControlName="nivel_atencion" placeholder="Nivel de AtenciÃ³n" type="text">
                                    <mat-error *ngIf="cluesForm.get('nivel_atencion').invalid && (cluesForm.get('nivel_atencion').dirty || cluesForm.get('nivel_atencion').touched)">
                                        <span *ngIf="cluesForm.get('nivel_atencion').errors.required">El Nombre es obligatorio</span>
                                    </mat-error>
                                </mat-form-field>
                                <mat-form-field fxFlex="70" fxFlex.xs="100">
                                    <input matInput formControlName="estatus" placeholder="Estatus" type="text">
                                    <mat-error *ngIf="cluesForm.get('estatus').invalid && (cluesForm.get('estatus').dirty || cluesForm.get('estatus').touched)">
                                        <span *ngIf="cluesForm.get('estatus').errors.required">El Nombre es obligatorio</span>
                                    </mat-error>
                                </mat-form-field>
                             </div>
                             <div fxLayout="row" fxLayout.xs="column">
                                <mat-form-field fxFlex="100" fxFlex.xs="100">
                                    <input matInput placeholder="Responsable" [matAutocomplete]="responsableAutocomplete" formControlName='responsable' required>
                                    <mat-autocomplete #responsableAutocomplete="matAutocomplete" [displayWith]="displayResponsableFn" [panelWidth]="'auto'">
                                        <mat-option *ngIf="responsableIsLoading" class="is-loading"><mat-spinner diameter="25"></mat-spinner></mat-option>
                                        <ng-container *ngIf="!responsableIsLoading">
                                            <mat-option *ngFor="let item of filteredResponsable" [value]="item">
                                                [{{item.rfc}}] {{item.nombre}} 
                                            </mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                                    <input type="hidden" formControlName='responsable_id'>
                                    <!--<mat-hint align="start" *ngIf="(cluesForm.get('responsable').value && cluesForm.get('responsable').value.grupo_funcion)">[{{cluesForm.get('responsable').value.grupo_funcion.grupo}}]</mat-hint>
                                    <mat-hint align="end" *ngIf="cluesForm.get('responsable').value">[{{cluesForm.get('responsable_id').value.responsable_id}}]</mat-hint>-->
                                </mat-form-field>
                                <mat-form-field fxFlex="100" fxFlex.xs="100">
                                    <input matInput formControlName="cargo_responsable" placeholder="Cargo Responsable" type="text">
                                    <mat-error *ngIf="cluesForm.get('cargo_responsable').invalid && (cluesForm.get('cargo_responsable').dirty || cluesForm.get('cargo_responsable').touched)">
                                        <span *ngIf="cluesForm.get('cargo_responsable').errors.required">El Nombre es obligatorio</span>
                                    </mat-error>
                                </mat-form-field>
                             </div>
                        </section>
                    </div>
                </mat-card-content>
                <mat-card-actions fxHide.xs="true" fxLayout.xs="column">
                    <span fxFlex></span>
                    <button mat-raised-button routerLink="/catalogos/clues">Volver a la lista</button>
                    <ng-container *ngIf="puedeGuardar">
                        <button mat-raised-button (click)="accionGuardar()" color="success" [disabled]="!cluesForm.valid || isLoading"><mat-icon>save</mat-icon> Guardar</button>
                    </ng-container>
                </mat-card-actions>
            </mat-card>
        </section>
    </section>
    
</section>
